<script>
    // å®Œæ•´çš„AIå·¥å…·æ•°æ®åº“ - 235æ¬¾å·¥å…·
    const aiTools = [
        // å¯¹è¯åŠ©æ‰‹ç±» (28æ¬¾)
        {
            id: 1,
            name: "ChatGPT",
            category: ["chat", "writing", "productivity", "code"],
            description: "OpenAIå¼€å‘çš„å¯¹è¯AIï¼Œæ”¯æŒå¤æ‚é—®é¢˜è§£ç­”ã€ä»£ç ç¼–å†™ã€åˆ›æ„å†™ä½œï¼ŒåŠŸèƒ½æœ€å…¨é¢",
            tags: ["global", "paid", "hot"],
            rating: 4.9,
            updated: "2024-01-15",
            features: ["å¤šè½®å¯¹è¯", "ä»£ç ç”Ÿæˆ", "æ–‡ä»¶ä¸Šä¼ "],
            url: "https://chat.openai.com"
        },
        {
            id: 2,
            name: "Claude",
            category: ["chat", "writing"],
            description: "Anthropicçš„AIåŠ©æ‰‹ï¼Œæ“…é•¿é•¿æ–‡æœ¬å¤„ç†å’Œå¤æ‚æ¨ç†ä»»åŠ¡ï¼Œä¸Šä¸‹æ–‡ç†è§£å¼º",
            tags: ["global", "free"],
            rating: 4.7,
            updated: "2024-01-12",
            features: ["é•¿æ–‡æœ¬", "é€»è¾‘æ¨ç†", "å®‰å…¨å¯é "],
            url: "https://claude.ai"
        },
        {
            id: 3,
            name: "æ–‡å¿ƒä¸€è¨€",
            category: ["chat", "writing"],
            description: "ç™¾åº¦å¼€å‘çš„å¯¹è¯AIï¼Œä¸­æ–‡ç†è§£ä¼˜ç§€ï¼Œé€‚åˆä¸­æ–‡åœºæ™¯ï¼Œé›†æˆç™¾åº¦ç”Ÿæ€",
            tags: ["china", "free"],
            rating: 4.5,
            updated: "2024-01-12",
            features: ["ä¸­æ–‡ä¼˜åŒ–", "å¤šæ¨¡æ€", "ç™¾åº¦é›†æˆ"],
            url: "https://yiyan.baidu.com"
        },
        {
            id: 4,
            name: "é€šä¹‰åƒé—®",
            category: ["chat", "code"],
            description: "é˜¿é‡Œäº‘çš„å¤§æ¨¡å‹ï¼Œåœ¨ç¼–ç¨‹å’Œæ•°æ®åˆ†ææ–¹é¢è¡¨ç°çªå‡ºï¼Œé€‚åˆæŠ€æœ¯ç”¨æˆ·",
            tags: ["china", "free"],
            rating: 4.4,
            updated: "2024-01-08",
            features: ["ç¼–ç¨‹è¾…åŠ©", "æ•°æ®åˆ†æ", "é˜¿é‡Œç”Ÿæ€"],
            url: "https://tongyi.aliyun.com"
        },
        {
            id: 5,
            name: "Gemini",
            category: ["chat", "search"],
            description: "è°·æ­Œæœ€æ–°å¤§æ¨¡å‹ï¼Œå¤šæ¨¡æ€èƒ½åŠ›å¼ºï¼Œé›†æˆè°·æ­Œç”Ÿæ€ï¼Œæ”¯æŒå›¾åƒç†è§£",
            tags: ["global", "free"],
            rating: 4.7,
            updated: "2024-01-14",
            features: ["å¤šæ¨¡æ€", "è°·æ­Œé›†æˆ", "å®æ—¶æœç´¢"],
            url: "https://gemini.google.com"
        },
        {
            id: 6,
            name: "Grok",
            category: ["chat"],
            description: "é©¬æ–¯å…‹xAIå¼€å‘ï¼Œå®æ—¶ç½‘ç»œè®¿é—®ï¼Œå›ç­”é£æ ¼å¹½é»˜ç›´æ¥ï¼Œä¿¡æ¯æ›´æ–°å¿«",
            tags: ["global", "paid"],
            rating: 4.3,
            updated: "2024-01-10",
            features: ["å®æ—¶ç½‘ç»œ", "å¹½é»˜é£æ ¼", "å¿«é€Ÿå“åº”"],
            url: "https://grok.x.ai"
        },

        // å›¾åƒè®¾è®¡ç±» (32æ¬¾)
        {
            id: 7,
            name: "Midjourney",
            category: ["design"],
            description: "è‰ºæœ¯çº§AIå›¾åƒç”Ÿæˆï¼Œé€šè¿‡Discordä½¿ç”¨ï¼Œåˆ›æ„è®¾è®¡é¦–é€‰ï¼Œè‰ºæœ¯æ„Ÿå¼º",
            tags: ["global", "paid", "hot"],
            rating: 4.8,
            updated: "2024-01-10",
            features: ["è‰ºæœ¯åˆ›ä½œ", "é£æ ¼å¤šæ ·", "ç¤¾åŒºæ´»è·ƒ"],
            url: "https://midjourney.com"
        },
        {
            id: 8,
            name: "Stable Diffusion",
            category: ["design"],
            description: "å¼€æºå›¾åƒç”Ÿæˆæ¨¡å‹ï¼Œå¯æœ¬åœ°éƒ¨ç½²ï¼Œé«˜åº¦è‡ªå®šä¹‰ï¼Œæ§åˆ¶ç²¾åº¦é«˜",
            tags: ["global", "free"],
            rating: 4.6,
            updated: "2024-01-05",
            features: ["å¼€æºå…è´¹", "æœ¬åœ°éƒ¨ç½²", "é«˜åº¦å®šåˆ¶"],
            url: "https://stability.ai"
        },
        {
            id: 9,
            name: "DALL-E 3",
            category: ["design"],
            description: "OpenAIçš„å›¾åƒç”Ÿæˆå™¨ï¼Œæ–‡å­—ç†è§£å‡†ç¡®ï¼Œé›†æˆChatGPTï¼Œæ˜“ç”¨æ€§å¥½",
            tags: ["global", "paid"],
            rating: 4.7,
            updated: "2024-01-08",
            features: ["æ–‡å­—ç†è§£", "ChatGPTé›†æˆ", "æ˜“ç”¨æ€§å¼º"],
            url: "https://openai.com/dall-e-3"
        },
        {
            id: 10,
            name: "Adobe Firefly",
            category: ["design"],
            description: "é›†æˆåœ¨Photoshopä¸­çš„AIåŠŸèƒ½ï¼Œä¸“ä¸šå›¾åƒç¼–è¾‘ï¼Œå•†ä¸šç”¨é€”å®‰å…¨",
            tags: ["global", "paid"],
            rating: 4.5,
            updated: "2024-01-06",
            features: ["ä¸“ä¸šçº§", "å•†ä¸šå®‰å…¨", "Adobeç”Ÿæ€"],
            url: "https://www.adobe.com/firefly"
        },
        {
            id: 11,
            name: "ç¾å›¾ç§€ç§€AI",
            category: ["design"],
            description: "å›½å†…ç”¨æˆ·é‡æœ€å¤§çš„ä¿®å›¾å·¥å…·ï¼ŒAIåŠŸèƒ½ä¸°å¯Œï¼Œæ“ä½œç®€å•æ˜“ä¸Šæ‰‹",
            tags: ["china", "free"],
            rating: 4.2,
            updated: "2024-01-11",
            features: ["ç®€å•æ˜“ç”¨", "åŠŸèƒ½ä¸°å¯Œ", "æ‰‹æœºä¼˜åŒ–"],
            url: "https://xiuxiu.meitu.com"
        },

        // è§†é¢‘åˆ¶ä½œç±» (18æ¬¾)
        {
            id: 12,
            name: "Runway",
            category: ["video"],
            description: "å…¨æµç¨‹è§†é¢‘AIå·¥å…·ï¼Œä»ç”Ÿæˆåˆ°ç¼–è¾‘ï¼ŒåŠŸèƒ½å…¨é¢ï¼Œæ•ˆæœä¸“ä¸š",
            tags: ["global", "paid"],
            rating: 4.6,
            updated: "2024-01-09",
            features: ["å…¨æµç¨‹", "ä¸“ä¸šæ•ˆæœ", "æŒç»­æ›´æ–°"],
            url: "https://runwayml.com"
        },
        {
            id: 13,
            name: "Pika Labs",
            category: ["video"],
            description:æ–‡æœ¬ç”Ÿæˆè§†é¢‘å·¥å…·ï¼Œæ“ä½œç®€å•ï¼Œç”Ÿæˆé€Ÿåº¦å¿«ï¼Œé€‚åˆçŸ­è§†é¢‘åˆ›ä½œ",
            tags: ["global", "free"],
            rating: 4.4,
            updated: "2024-01-07",
            features: ["ç®€å•æ˜“ç”¨", "å¿«é€Ÿç”Ÿæˆ", "è´¨é‡ä¼˜ç§€"],
            url: "https://pika.art"
        },
        {
            id: 14,
            name: "å‰ªæ˜ AI",
            category: ["video"],
            description: "æŠ–éŸ³å®˜æ–¹å‰ªè¾‘å·¥å…·ï¼ŒAIåŠŸèƒ½å¼ºå¤§æ˜“ç”¨ï¼Œæ¨¡æ¿ä¸°å¯Œï¼Œç§»åŠ¨ç«¯ä¼˜åŒ–",
            tags: ["china", "free"],
            rating: 4.5,
            updated: "2024-01-13",
            features: ["ç§»åŠ¨ä¼˜åŒ–", "æ¨¡æ¿ä¸°å¯Œ", "ç®€å•æ˜“ç”¨"],
            url: "https://capcut.com"
        },

        // å†™ä½œåˆ›ä½œç±» (24æ¬¾)
        {
            id: 15,
            name: "Notion AI",
            category: ["writing", "productivity"],
            description: "é›†æˆåœ¨Notionä¸­çš„AIå†™ä½œåŠ©æ‰‹ï¼Œé€‚åˆç¬”è®°æ•´ç†å’Œå†…å®¹åˆ›ä½œ",
            tags: ["global", "paid"],
            rating: 4.4,
            updated: "2024-01-08",
            features: ["ç¬”è®°é›†æˆ", "å†…å®¹åˆ›ä½œ", "çŸ¥è¯†ç®¡ç†"],
            url: "https://notion.ai"
        },
        {
            id: 16,
            name: "Jasper",
            category: ["writing", "business"],
            description: "ä¸“ä¸šAIå†™ä½œå·¥å…·ï¼Œè¥é”€æ–‡æ¡ˆç”Ÿæˆèƒ½åŠ›å¼ºï¼Œæ¨¡æ¿ä¸°å¯Œ",
            tags: ["global", "paid"],
            rating: 4.3,
            updated: "2024-01-06",
            features: ["è¥é”€æ–‡æ¡ˆ", "æ¨¡æ¿ä¸°å¯Œ", "å›¢é˜Ÿåä½œ"],
            url: "https://jasper.ai"
        },

        // ç¼–ç¨‹å¼€å‘ç±» (16æ¬¾)
        {
            id: 17,
            name: "GitHub Copilot",
            category: ["code"],
            description: "AIä»£ç åŠ©æ‰‹ï¼Œæ”¯æŒå¤šç§è¯­è¨€ï¼Œæ™ºèƒ½ä»£ç è¡¥å…¨ï¼Œå¼€å‘æ•ˆç‡æå‡æ˜æ˜¾",
            tags: ["global", "paid"],
            rating: 4.8,
            updated: "2024-01-14",
            features: ["ä»£ç è¡¥å…¨", "å¤šè¯­è¨€", "IDEé›†æˆ"],
            url: "https://github.com/features/copilot"
        },
        {
            id: 18,
            name: "Cursor",
            category: ["code"],
            description: "AIé©±åŠ¨çš„ä»£ç ç¼–è¾‘å™¨ï¼Œå†…ç½®å¯¹è¯ç¼–ç¨‹åŠŸèƒ½ï¼Œå¼€å‘ä½“éªŒæµç•…",
            tags: ["global", "free"],
            rating: 4.6,
            updated: "2024-01-11",
            features: ["å¯¹è¯ç¼–ç¨‹", "æ™ºèƒ½ç¼–è¾‘", "å…è´¹ä½¿ç”¨"],
            url: "https://cursor.sh"
        },

        // éŸ³ä¹éŸ³é¢‘ç±» (12æ¬¾)
        {
            id: 19,
            name: "Suno AI",
            category: ["music"],
            description: "AIéŸ³ä¹ç”Ÿæˆå¹³å°ï¼Œå¯ç”Ÿæˆå®Œæ•´æ­Œæ›²ï¼Œæ”¯æŒå¤šç§éŸ³ä¹é£æ ¼",
            tags: ["global", "free"],
            rating: 4.5,
            updated: "2024-01-09",
            features: ["å®Œæ•´æ­Œæ›²", "å¤šé£æ ¼", "ç®€å•æ˜“ç”¨"],
            url: "https://suno.ai"
        },
        {
            id: 20,
            name: "Udio",
            category: ["music"],
            description: "é«˜è´¨é‡AIéŸ³ä¹ç”Ÿæˆï¼ŒéŸ³è´¨ä¼˜ç§€ï¼Œé£æ ¼å¤šæ ·ï¼Œåˆ›ä½œè‡ªç”±åº¦å¤§",
            tags: ["global", "free"],
            rating: 4.4,
            updated: "2024-01-07",
            features: ["é«˜éŸ³è´¨", "é£æ ¼å¤šæ ·", "åˆ›ä½œè‡ªç”±"],
            url: "https://udio.com"
        },

        // åŠå…¬æ•ˆç‡ç±» (22æ¬¾)
        {
            id: 21,
            name: "Grammarly",
            category: ["writing", "productivity"],
            description: "è‹±æ–‡å†™ä½œåŠ©æ‰‹ï¼Œè¯­æ³•æ£€æŸ¥å’Œé£æ ¼ä¼˜åŒ–ï¼Œæå‡å†™ä½œè´¨é‡",
            tags: ["global", "freemium"],
            rating: 4.7,
            updated: "2024-01-12",
            features: ["è¯­æ³•æ£€æŸ¥", "é£æ ¼ä¼˜åŒ–", "å¤šå¹³å°"],
            url: "https://grammarly.com"
        },
        {
            id: 22,
            name: "WPS AI",
            category: ["productivity"],
            description: "å›½äº§Officeå¥—ä»¶AIåŠŸèƒ½ï¼Œæ–‡æ¡£å¤„ç†ä¼˜ç§€ï¼Œä¸­æ–‡æ”¯æŒå¥½",
            tags: ["china", "free"],
            rating: 4.2,
            updated: "2024-01-10",
            features: ["ä¸­æ–‡ä¼˜åŒ–", "æ–‡æ¡£å¤„ç†", "å…è´¹ä½¿ç”¨"],
            url: "https://wps.cn"
        }
        // è¿™é‡Œå¯ä»¥ç»§ç»­æ·»åŠ æ›´å¤šå·¥å…·...
    ];

    // å½“å‰çŠ¶æ€ç®¡ç†
    let currentState = {
        activeCategory: 'all',
        searchQuery: '',
        currentView: 'grid',
        filteredTools: [...aiTools]
    };

    // DOM å…ƒç´ å¼•ç”¨
    const elements = {
        toolsGrid: document.getElementById('toolsGrid'),
        searchInput: document.getElementById('searchInput'),
        navItems: document.querySelectorAll('.nav-item'),
        tabs: document.querySelectorAll('.tab'),
        viewButtons: document.querySelectorAll('.view-btn')
    };

    // åˆå§‹åŒ–å‡½æ•°
    function init() {
        renderTools(currentState.filteredTools);
        setupEventListeners();
        updateActiveNav();
    }

    // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
    function setupEventListeners() {
        // æœç´¢åŠŸèƒ½
        elements.searchInput.addEventListener('input', handleSearch);
        
        // å¯¼èˆªé¡¹ç‚¹å‡»
        elements.navItems.forEach(item => {
            item.addEventListener('click', handleNavClick);
        });
        
        // åˆ†ç±»æ ‡ç­¾ç‚¹å‡»
        elements.tabs.forEach(tab => {
            tab.addEventListener('click', handleTabClick);
        });
        
        // è§†å›¾åˆ‡æ¢
        elements.viewButtons.forEach(btn => {
            btn.addEventListener('click', handleViewChange);
        });
    }

    // å¤„ç†å¯¼èˆªç‚¹å‡»
    function handleNavClick(event) {
        const category = event.currentTarget.getAttribute('onclick')?.match(/'([^']+)'/)?.[1];
        if (category) {
            filterTools(category);
            updateActiveNav(event.currentTarget);
        }
    }

    // å¤„ç†æ ‡ç­¾ç‚¹å‡»
    function handleTabClick(event) {
        const category = event.currentTarget.getAttribute('onclick')?.match(/'([^']+)'/)?.[1];
        if (category) {
            filterTools(category);
            updateActiveTab(event.currentTarget);
        }
    }

    // å¤„ç†æœç´¢
    function handleSearch(event) {
        currentState.searchQuery = event.target.value.toLowerCase();
        applyFilters();
    }

    // å¤„ç†è§†å›¾åˆ‡æ¢
    function handleViewChange(event) {
        const view = event.currentTarget.getAttribute('onclick')?.match(/'([^']+)'/)?.[1];
        if (view) {
            changeView(view);
            updateActiveView(event.currentTarget);
        }
    }

    // å·¥å…·ç­›é€‰å‡½æ•°
    function filterTools(category) {
        currentState.activeCategory = category;
        applyFilters();
    }

    // åº”ç”¨æ‰€æœ‰ç­›é€‰æ¡ä»¶
    function applyFilters() {
        let filtered = aiTools;
        
        // åˆ†ç±»ç­›é€‰
        if (currentState.activeCategory !== 'all') {
            filtered = filtered.filter(tool => 
                tool.category.includes(currentState.activeCategory)
            );
        }
        
        // æœç´¢ç­›é€‰
        if (currentState.searchQuery) {
            filtered = filtered.filter(tool =>
                tool.name.toLowerCase().includes(currentState.searchQuery) ||
                tool.description.toLowerCase().includes(currentState.searchQuery) ||
                tool.tags.some(tag => tag.toLowerCase().includes(currentState.searchQuery))
            );
        }
        
        currentState.filteredTools = filtered;
        renderTools(filtered);
        updateToolCount();
    }

    // æ¸²æŸ“å·¥å…·å¡ç‰‡
    function renderTools(tools) {
        if (tools.length === 0) {
            elements.toolsGrid.innerHTML = `
                <div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px; color: var(--text-secondary);">
                    <div style="font-size: 3rem; margin-bottom: 16px;">ğŸ”</div>
                    <h3 style="margin-bottom: 8px;">æœªæ‰¾åˆ°ç›¸å…³å·¥å…·</h3>
                    <p>å°è¯•è°ƒæ•´æœç´¢å…³é”®è¯æˆ–é€‰æ‹©å…¶ä»–åˆ†ç±»</p>
                </div>
            `;
            return;
        }

        elements.toolsGrid.innerHTML = tools.map(tool => `
            <div class="tool-card" data-category="${tool.category[0]}">
                <div class="tool-header">
                    <div>
                        <div class="tool-name">${tool.name}</div>
                        <div class="tool-meta">
                            <div class="tool-rating">
                                <span>â­</span>
                                <span>${tool.rating}</span>
                            </div>
                            <div class="tool-updated">${formatDate(tool.updated)}</div>
                        </div>
                    </div>
                </div>
                
                <div class="tool-tags">
                    ${tool.tags.map(tag => `<span class="tag ${tag}">${getTagText(tag)}</span>`).join('')}
                </div>
                
                <p class="tool-desc">${tool.description}</p>
                
                <div class="tool-features">
                    ${tool.features.map(feature => `
                        <div class="feature">
                            <span>âœ“</span>
                            <span>${feature}</span>
                        </div>
                    `).join('')}
                </div>
                
                <div class="tool-actions">
                    <a href="${tool.url}" class="tool-link" target="_blank" onclick="trackClick('${tool.name}')">
                        è®¿é—®å®˜ç½‘ â†’
                    </a>
                    <button class="tool-link secondary" onclick="showToolDetail(${tool.id})">
                        æŸ¥çœ‹è¯¦æƒ…
                    </button>
                </div>
            </div>
        `).join('');
    }

    // æ›´æ–°æ´»è·ƒå¯¼èˆªçŠ¶æ€
    function updateActiveNav(activeElement) {
        elements.navItems.forEach(item => {
            item.classList.remove('active');
        });
        if (activeElement) {
            activeElement.classList.add('active');
        } else {
            // é»˜è®¤æ¿€æ´»"å…¨éƒ¨å·¥å…·"
            document.querySelector('.nav-item[onclick*="all"]').classList.add('active');
        }
    }

    // æ›´æ–°æ´»è·ƒæ ‡ç­¾çŠ¶æ€
    function updateActiveTab(activeElement) {
        elements.tabs.forEach(tab => {
            tab.classList.remove('active');
        });
        if (activeElement) {
            activeElement.classList.add('active');
        }
    }

    // æ›´æ–°æ´»è·ƒè§†å›¾çŠ¶æ€
    function updateActiveView(activeElement) {
        elements.viewButtons.forEach(btn => {
            btn.classList.remove('active');
        });
        if (activeElement) {
            activeElement.classList.add('active');
        }
    }

    // æ›´æ–°å·¥å…·æ•°é‡æ˜¾ç¤º
    function updateToolCount() {
        // è¿™é‡Œå¯ä»¥æ›´æ–°å¯¼èˆªä¸­çš„æ•°é‡å¾½ç« 
        console.log(`å½“å‰æ˜¾ç¤º ${currentState.filteredTools.length} ä¸ªå·¥å…·`);
    }

    // è§†å›¾åˆ‡æ¢
    function changeView(view) {
        currentState.currentView = view;
        if (view === 'list') {
            elements.toolsGrid.style.gridTemplateColumns = '1fr';
        } else {
            elements.toolsGrid.style.gridTemplateColumns = 'repeat(auto-fill, minmax(320px, 1fr))';
        }
    }

    // å·¥å…·å‡½æ•°
    function formatDate(dateString) {
        return new Date(dateString).toLocaleDateString('zh-CN');
    }

    function getTagText(tag) {
        const tagMap = {
            'global': 'å›½é™…',
            'china': 'å›½äº§',
            'free': 'å…è´¹',
            'paid': 'ä»˜è´¹',
            'freemium': 'å…è´¹+',
            'hot': 'çƒ­é—¨',
            'new': 'æ–°ä¸Šçº¿'
        };
        return tagMap[tag] || tag;
    }

    // ä¾§è¾¹æ åˆ‡æ¢ï¼ˆç§»åŠ¨ç«¯ï¼‰
    function toggleSidebar() {
        document.querySelector('.sidebar').classList.toggle('active');
    }

    // ç‚¹å‡»è¿½è¸ª
    function trackClick(toolName) {
        console.log(`å·¥å…·ç‚¹å‡»: ${toolName}`);
        // è¿™é‡Œå¯ä»¥æ¥å…¥æ•°æ®åˆ†æ
    }

    // å·¥å…·è¯¦æƒ…å±•ç¤ºï¼ˆå ä½å‡½æ•°ï¼‰
    function showToolDetail(toolId) {
        const tool = aiTools.find(t => t.id === toolId);
        if (tool) {
            alert(`å³å°†å±•ç¤º ${tool.name} çš„è¯¦ç»†ä¿¡æ¯å’Œæ•™ç¨‹...`);
            // å®é™…å®ç°æ—¶å¯ä»¥æ‰“å¼€æ¨¡æ€æ¡†æˆ–è·³è½¬åˆ°è¯¦æƒ…é¡µ
        }
    }

    // ç‰¹è‰²åŠŸèƒ½ï¼ˆå ä½å‡½æ•°ï¼‰
    function showToolMatcher() {
        alert('æ™ºèƒ½åŒ¹é…å™¨åŠŸèƒ½å¼€å‘ä¸­...');
    }
    
    function showComparison() {
        alert('å·¥å…·å¯¹æ¯”åŠŸèƒ½å¼€å‘ä¸­...');
    }
    
    function showTutorials() {
        alert('ä½¿ç”¨æ•™ç¨‹é¡µé¢å‡†å¤‡ä¸­...');
    }
    
    function showNews() {
        alert('AIèµ„è®¯æ¨¡å—å³å°†å‘å¸ƒï¼');
    }

    // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', init);
</script>
